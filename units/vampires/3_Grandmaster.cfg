#textdomain wesnoth-millennium-era
[unit_type]
    id=Vampire Grandmaster
    name= _ "Grandmaster"
    race=vampire
    image="units/vampires/grandmaster.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    hitpoints=50
    movement_type=vampfoot
    movement=5
    experience=150
    level=3
    alignment=chaotic
    advances_to=null
    {AMLA_DEFAULT}
    cost=55
    usage=mixed fighter
    die_sound={SOUND_LIST:HUMAN_DIE}
    
	[attack]
        name=fangs
        description=_ "fangs"
        icon="attacks/fangs.png"
        type=blade
        range=melee
        damage=7
        number=2
        [specials]
            {WEAPON_SPECIAL_VAMPIRE_DRAIN}
        [/specials]
    [/attack]
    
    [attack]
        name=blood boil
        description= _ "blood boil"
        type=fire
        range=ranged
        damage=8
        number=5
        icon=attacks/dark-missile.png
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/attack]
    
    [attack]
        name=shadow wave
        description= _ "shadow wave"
        type=arcane
        range=ranged
        damage=17
        number=2
        icon=attacks/dark-missile.png
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/attack]
    
    [attack_anim]
        [filter_attack]
            name=fangs
        [/filter_attack]
        start_time=-200
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=200
                image="units/vampires/grandmaster.png"
                sound=bite-small.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=200
                image="units/vampires/grandmaster.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
        [/frame]
    [/attack_anim]
    
    [attack_anim]
        [filter_attack]
            name=blood boil
        [/filter_attack]
        {MISSILE_FRAME_BLOOD_BOIL}
        {AURA_HALO}
        [frame]
            begin=-400
            end=-350
            image="units/vampires/grandmaster.png"
        [/frame]
        [frame]
            begin=-350
            end=-200
            image="units/vampires/grandmaster.png"
        [/frame]
        [if]
            hits=no
            [frame]
                begin=-200
                end=0
                image="units/vampires/grandmaster.png"
            [/frame]
        [/if]
        [else]
            hits=yes
            [frame]
                begin=-200
                end=0
                image="units/vampires/grandmaster.png"
                sound=magicmissile.wav
            [/frame]
        [/else]
        [frame]
            begin=0
            end=50
            image="units/vampires/grandmaster.png"
        [/frame]
    [/attack_anim]
    
    [attack_anim]
        [filter_attack]
            name=shadow wave
        [/filter_attack]
        start_time=-300
        missile_start_time=-50

        [missile_frame]
            duration=200
            image="projectiles/darkmissile-n.png"
            image_diagonal="projectiles/darkmissile-ne.png"
        [/missile_frame]

        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
            halo=halo/undead/dark-magic-1.png
            halo_x,halo_y=10,15
        [/frame]
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
            halo=halo/undead/dark-magic-2.png
            halo_x,halo_y=10,15
        [/frame]
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
            halo=halo/undead/dark-magic-3.png
            halo_x,halo_y=10,15
        [/frame]
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
            halo=halo/undead/dark-magic-4.png
            halo_x,halo_y=10,15
        [/frame]
        [frame]
            duration=50
            image="units/vampires/grandmaster.png"
            halo=halo/undead/dark-magic-5.png
            halo_x,halo_y=10,15
        [/frame]
        [if]
            hits=no
            [frame]
                duration=50
                image="units/vampires/grandmaster.png"
                halo=halo/undead/dark-magic-6.png
                halo_x,halo_y=10,15
                sound=magic-dark-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes
            [frame]
                duration=50
                image="units/vampires/grandmaster.png"
                halo=halo/undead/dark-magic-6.png
                halo_x,halo_y=10,15
                sound=magic-dark.ogg
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/vampires/grandmaster.png"
        [/frame]
    [/attack_anim]
    
    {DEFENSE_ANIM "units/vampires/grandmaster.png" "units/vampires/grandmaster.png" {SOUND_LIST:HUMAN_HIT}}
[/unit_type]
